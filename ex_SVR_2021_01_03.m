% date: 2021?01?03?
% effect: SVR ????
%% ???????? ????????? GMSE
load('printing-ink-data') % ??????????
%% ???
X = unnamed; % ??
XI = X(:,2:4); % ??2? 3? 4?? 3???????
Y = X(:,8);  % ??8 ?? ??????
             % ??
YI = Y;
error = zeros(27,1); % ????? 27? 1?? ???? 0
GMSE = zeros(27,1); % ????????? GMSE? ???? 0
%% ??
%  ???????? ?????????????
for i = 1:27
    Xtest = XI(i,:); % ?? i ????? ????? ????
    Ytest = YI(i); % ?? i ???????? ???????? ????
    XI(i,:) = []; % ??? i ????? ?? 26 ?????
    YI(i) = []; % ??? i ??????????? ?? 26 ???????
    options = srgtsSVRSetOptions(XI, YI); % ?? SVR ????
    surrogate = srgtsSVRFit(options); % ?? SVR ??
    Yhat = srgtsSVREvaluate(Xtest, surrogate); % ????????
    error(i) = Ytest - Yhat; % ?????????
    GMSE(i) = mean(sum(error(i)^2)); % ??????
    
    Xtest = XI(12,:); % ?? i ????? ????? ????
    Ytest = YI(1); % ?? i ???????? ???????? ????
    XI(1,:) = []; % ??? i ????? ?? 26 ?????
    YI(1) = []; % ??? i ??????????? ?? 26 ???????
    options = srgtsSVRSetOptions(XI, YI); % ?? SVR ????
    surrogate = srgtsSVRFit(options); % ?? SVR ??
    Yhat = srgtsSVREvaluate(Xtest, surrogate); % ????????
    error(i) = Ytest - Yhat; % ?????????
    GMSE(i) = mean(sum(error(i)^2)); % ??????
end